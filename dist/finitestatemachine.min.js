!function(t,e){"function"==typeof define&&define.amd?define(["./../../eventhandler/dist/eventhandler.min.js"],e):"object"==typeof exports?module.exports=e(require("eventhandler")):(t.FiniteStateMachine=e(t.EventHandler),void 0===t.FSM&&(t.FSM=t.FiniteStateMachine))}(this,function(t){"use strict";function e(e){t.call(this,e||this),this._states={},this._currentState,this._prevState}return e.prototype=Object.create(t.prototype),e.constructor=e,e.prototype.addStates=function(t,e){for(var n in t)this._states[n]=t[n];void 0!==e&&this.setCurrentState(e)},e.prototype.handleStateEvent=function(t){if(void 0!==this._currentState){var e=this._states[this._currentState],n=e[t];void 0!==n&&(this.setCurrentState(n),this.triggerChangeEvents(t))}},e.prototype.triggerChangeEvents=function(t){var e=this._currentState,n=this._prevState,r={event:t,from:n,to:e};this.emit("changeState:from."+n,r),this.emit("changeState:to."+e,r),this.emit("changeState:from."+n+">to."+e,r),this.emit("changeState",r)},e.prototype.changeState=function(t){this.setCurrentState(t),this.triggerChangeEvents()},e.prototype.setCurrentState=function(t){void 0!==this._currentState&&(this._prevState=this._currentState.toString()),this._currentState=t},e.prototype.getCurrentState=function(){return this._currentState},e.prototype.getPreviousState=function(){return this._prevState},e.prototype.onChangeState=function(t){this.on("changeState",t)},e.prototype.onChangeStateFrom=function(t,e){this.on("changeState:from."+t,e)},e.prototype.onChangeStateTo=function(t,e){this.on("changeState:to."+t,e)},e.prototype.onChangeStateFromTo=function(t,e,n){var r=null===t?"":"from."+t;null!==t&&null!==e&&(r+=">"),r+=null===e?"":"to."+e,this.on("changeState:"+r,n)},e});
//# sourceMappingURL=finitestatemachine.min.map