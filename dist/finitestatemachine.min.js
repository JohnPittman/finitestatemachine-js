!function(a,b){"function"==typeof define&&define.amd?define(["./../../eventhandler/dist/eventhandler.min.js"],b):"object"==typeof exports?module.exports=b(require("eventhandler")):a.FSM=b(a.EventHandler)}(this,function(a){"use strict";function b(b){a.call(this,b||this),this._states={},this._currentState}return b.prototype=Object.create(a.prototype),b.constructor=b,b.prototype.addStates=function(a,b){for(var c in a)this._states[c]=a[c];void 0!==b&&this.setCurrentState(b)},b.prototype.changeState=function(a){if(void 0!==this._currentState){var b=this._states[this._currentState],c=b[a];void 0!==c&&this.setCurrentState(c)}},b.prototype.setCurrentState=function(a){if(void 0!==this._currentState){var b=this._currentState,c={from:b,to:a};this.emit("changeState:from."+b,c),this.emit("changeState:to."+a,c),this.emit("changeState:from."+b+">to."+a,c),this.emit("changeState",c)}this._currentState=a},b.prototype.getCurrentState=function(){return this._currentState},b.prototype.onChangeState=function(a){this.on("changeState",a)},b.prototype.onChangeStateFrom=function(a,b){this.on("changeState:from."+a,b)},b.prototype.onChangeStateTo=function(a,b){this.on("changeState:to."+a,b)},b.prototype.onChangeStateFromTo=function(a,b,c){var d=null===a?"":"from."+a;null!==a&&null!==b&&(d+=">"),d+=null===b?"":"to."+b,this.on("changeState:"+d,c)},b});
//# sourceMappingURL=finitestatemachine.min.map